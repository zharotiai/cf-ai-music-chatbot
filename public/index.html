<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Music Recommender</title>
    <style>
      :root {
        --bg-grad-1: #2b0058; /* deep purple */
        --bg-grad-2: #6a00ff; /* vibrant violet */
        --accent-1: #9b5cff; /* lighter purple */
        --accent-2: #ff6ad5; /* pink accent */
        --glass: rgba(255,255,255,0.06);
        --muted-white: rgba(255,255,255,0.85);
        --muted-light: rgba(255,255,255,0.6);
        --user-bubble: linear-gradient(135deg, rgba(155,92,255,0.15), rgba(255,106,213,0.08));
        --assistant-bubble: rgba(255,255,255,0.04);
      }

      * { box-sizing: border-box; margin: 0; padding: 0; }

      html, body { height: 100%; }

      body {
        font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
        color: var(--muted-white);
        background: linear-gradient(180deg, var(--bg-grad-1) 0%, var(--bg-grad-2) 60%);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        padding: 2rem;
        display: flex;
        justify-content: center;
        align-items: flex-start;
      }

      .app-shell {
        width: 100%;
        max-width: 1100px;
      }

      /* Layout: sidebar + main chat area */
      .layout {
        display: flex;
        gap: 1.25rem;
        align-items: stretch;
      }

      .sidebar {
        width: 280px;
        min-width: 220px;
        border-radius: 12px;
        padding: 1rem;
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border: 1px solid rgba(255,255,255,0.04);
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .branding { display: flex; flex-direction: column; gap: 0.25rem; }
      .branding h1 { margin: 0; font-size: 1.1rem; }
      .branding p { margin: 0; font-size: 0.9rem; color: var(--muted-light); }

      .examples { margin-top: 0.75rem; }
      .example-chip {
        display: inline-block;
        padding: 0.4rem 0.6rem;
        margin: 0.25rem 0.25rem 0 0;
        border-radius: 999px;
        background: rgba(155,92,255,0.12);
        color: var(--muted-white);
        font-size: 0.85rem;
        cursor: pointer;
        border: 1px solid rgba(155,92,255,0.08);
      }

      .main-area { flex: 1; display: flex; flex-direction: column; gap: 0.75rem; }

      header {
        text-align: left;
        margin-bottom: 1rem;
        padding: 1rem 1.25rem;
        border-radius: 12px;
        background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
        backdrop-filter: blur(6px);
        border: 1px solid rgba(255,255,255,0.06);
      }

      h1 { font-size: 1.25rem; color: var(--muted-white); margin-bottom: 0.25rem; }

      header p { color: var(--muted-light); font-size: 0.95rem; }

      .chat-container {
        display: flex;
        flex-direction: column;
        height: calc(100vh - 220px);
        min-height: 520px;
        border-radius: 14px;
        overflow: hidden;
        border: 1px solid rgba(255,255,255,0.06);
        background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        box-shadow: 0 10px 30px rgba(10,6,30,0.5);
      }

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 1.25rem;
        background: transparent;
      }

      .message { margin-bottom: 1rem; padding: 0.9rem; border-radius: 12px; max-width: 78%; }

      .user-message {
        background: var(--user-bubble);
        align-self: flex-end;
        margin-left: auto;
        color: var(--muted-white);
        box-shadow: 0 6px 20px rgba(106,0,255,0.08);
        border: 1px solid rgba(155,92,255,0.12);
      }

      .assistant-message {
        background: var(--assistant-bubble);
        align-self: flex-start;
        color: var(--muted-white);
        border: 1px solid rgba(255,255,255,0.03);
      }

      .message p { margin: 0; line-height: 1.45; }

      .message-input {
        display: flex;
        gap: 0.6rem;
        padding: 0.9rem;
        align-items: center;
        border-top: 1px solid rgba(255,255,255,0.03);
        background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      }

      #user-input {
        flex: 1;
        padding: 0.9rem 1rem;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.06);
        background: rgba(255,255,255,0.02);
        color: var(--muted-white);
        font-size: 0.98rem;
        resize: none;
        min-height: 46px;
        outline: none;
      }

      #user-input::placeholder { color: rgba(255,255,255,0.45); }

      #send-button {
        margin-left: 0.25rem;
        padding: 0.6rem 1.1rem;
        background: linear-gradient(90deg, var(--accent-1), var(--accent-2));
        color: white;
        border: none;
        border-radius: 999px;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 8px 24px rgba(106,0,255,0.18);
        transition: transform 0.12s ease, box-shadow 0.12s ease;
      }

      #send-button:hover { transform: translateY(-2px); }

      #send-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

      .typing-indicator { display: none; margin: 0.75rem 1.25rem; font-style: italic; color: var(--muted-light); }
      .typing-indicator.visible { display: block; }

      footer { margin-top: 1rem; text-align: center; font-size: 0.85rem; color: var(--muted-light); }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <div class="layout">
        <aside class="sidebar">
          <div class="branding">
            <h1>Music Recommender</h1>
            <p>Discover songs, playlists, and artists tailored to your mood.</p>
          </div>

          <div class="examples" aria-label="example prompts">
            <div class="example-chip" onclick="useExample('chill indie like Phoebe Bridgers')">chill indie</div>
            <div class="example-chip" onclick="useExample('energetic workout playlist')">workout</div>
            <div class="example-chip" onclick="useExample('songs like Daft Punk')">Daft Punk</div>
            <div class="example-chip" onclick="useExample('songs for studying and focus')">study</div>
          </div>

          <div style="flex:1"></div>
          <small style="color:var(--muted-light); font-size:0.85rem">Tip: click a chip to try a prompt</small>
        </aside>

        <main class="main-area">
          <div class="chat-container">
            <div id="chat-messages" class="chat-messages">
              <div class="message assistant-message">
                <p>
                  Hey â€” I'm your Music Recommender. Tell me your vibe, an artist, or a mood and I'll suggest songs, playlists, or artists you might like.
                </p>
              </div>
            </div>

            <div class="typing-indicator" id="typing-indicator">
              AI is thinking...
            </div>

            <div class="message-input">
              <textarea
                id="user-input"
                placeholder="Describe a mood, artist, or song..."
                rows="1"
                autofocus
              ></textarea>
              <button id="send-button">Send</button>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Chat app script -->
    <script src="chat.js"></script>

    <script>
      // helper for example chips
      function useExample(text) {
        const ta = document.getElementById('user-input');
        ta.value = text;
        ta.dispatchEvent(new Event('input'));
        ta.focus();
      }
    </script>
  </body>
</html>
